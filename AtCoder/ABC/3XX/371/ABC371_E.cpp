// 2025/01/05 16:51
// 2025/01/05 17:35:20 19WA
// 2025/01/05 17:36:48 AC.
#include <iostream>
#include <vector>
using namespace std;
int main(){
    int N;
    cin >> N;
    vector<int> A(N);
    for (int &a : A) {
        cin >> a;
        a--;
    }

    long long ans = 0;
    vector<int> last_pos(N, -1);
    for (int i = 0; i < N; i++) {
        ans += (long long)(N - i) * (i - last_pos[A[i]]);
        last_pos[A[i]] = i;
    }
    cout << ans << endl;
    return 0;
}
/*
9
5 4 2 2 3 2 4 4 1

1 2 3 3 4 3 2 2 5
1 2 3 3 4 4 4 4 5 30
- 1 2 2 3 3 3 3 4 21
- - 1 1 2 2 3 3 4 16
- - - 1 2 2 3 3 4 15
- - - - 1 2 3 3 4 13
- - - - - 1 2 2 3  8
- - - - - - 1 1 2  4
- - - - - - - 1 2  3
- - - - - - - - 1  1
                 111

o x x x o o x o o
1 1 1 0 1 0 0 0 1
- 1 1 0 1 0 0 0 1
- - 1 0 1 0 1 0 1
- - - 1 1 0 1 0 1
- - - - 1 1 1 0 1
- - - - - 1 1 0 1
- - - - - - 1 0 1
- - - - - - - 1 1
- - - - - - - - 1

1 * 9 * (1-0) =  9
1 * 8 * (2-0) = 16
1 * 7 * (3-0) = 21
1 * 6 * (4-3) =  6
1 * 5 * (5-0) = 25
1 * 4 * (6-4) =  8
1 * 3 * (7-2) = 15
1 * 2 * (8-7) =  2
1 * 1 * (9-0) =  9
= 111
これで計算すればよいのか。(2025/01/05 17:25:38)

*/

